Version 4
SHEET 1 3156 2260
WIRE -480 -832 -608 -832
WIRE -272 -832 -400 -832
WIRE -128 -832 -272 -832
WIRE -32 -832 -128 -832
WIRE 336 -832 256 -832
WIRE 592 -832 416 -832
WIRE 688 -832 592 -832
WIRE 832 -832 688 -832
WIRE -608 -800 -608 -832
WIRE -272 -800 -272 -832
WIRE -128 -800 -128 -832
WIRE 256 -800 256 -832
WIRE 528 -800 480 -800
WIRE 592 -800 592 -832
WIRE 688 -800 688 -832
WIRE 480 -704 480 -720
WIRE 512 -704 480 -704
WIRE 528 -704 512 -704
WIRE -608 -688 -608 -720
WIRE -272 -688 -272 -720
WIRE -128 -688 -128 -720
WIRE 256 -688 256 -720
WIRE 512 -688 512 -704
WIRE 592 -688 592 -704
WIRE 688 -688 688 -720
WIRE -480 -576 -608 -576
WIRE -272 -576 -400 -576
WIRE -128 -576 -272 -576
WIRE -32 -576 -128 -576
WIRE 336 -576 256 -576
WIRE 496 -576 416 -576
WIRE 832 -576 496 -576
WIRE -608 -544 -608 -576
WIRE -272 -544 -272 -576
WIRE -128 -544 -128 -576
WIRE 256 -544 256 -576
WIRE 496 -544 496 -576
WIRE -608 -432 -608 -464
WIRE -272 -432 -272 -464
WIRE -128 -432 -128 -464
WIRE 256 -432 256 -464
WIRE 496 -432 496 -480
WIRE -176 -352 -608 -352
WIRE -32 -352 -176 -352
WIRE 832 -352 256 -352
WIRE -608 -320 -608 -352
WIRE -176 -320 -176 -352
WIRE 256 -320 256 -352
WIRE -608 -208 -608 -240
WIRE -176 -208 -176 -240
WIRE 256 -208 256 -240
WIRE -32 -128 -608 -128
WIRE -608 -96 -608 -128
WIRE -608 16 -608 -16
WIRE -32 192 -112 192
WIRE -256 208 -608 208
WIRE -176 208 -256 208
WIRE 880 208 304 208
WIRE -32 224 -112 224
WIRE -608 240 -608 208
WIRE -176 240 -224 240
WIRE 304 240 304 208
WIRE -224 288 -224 240
WIRE -608 352 -608 320
WIRE -32 352 -112 352
WIRE 304 352 304 320
WIRE -256 368 -256 208
WIRE -176 368 -256 368
WIRE -32 384 -112 384
WIRE -176 400 -224 400
WIRE -224 448 -224 400
WIRE -464 544 -608 544
WIRE -256 544 -400 544
WIRE 128 544 -256 544
WIRE 192 544 128 544
WIRE 320 544 256 544
WIRE 880 544 320 544
WIRE -256 592 -256 544
WIRE -192 592 -256 592
WIRE -64 592 -128 592
WIRE 880 592 -64 592
WIRE 880 640 448 640
WIRE -256 672 -256 592
WIRE -64 672 -64 592
WIRE 128 672 128 544
WIRE 320 672 320 544
WIRE -608 752 -608 544
WIRE 448 752 448 640
WIRE -256 816 -256 736
WIRE -160 816 -256 816
WIRE -64 816 -64 736
WIRE -64 816 -160 816
WIRE 128 816 128 736
WIRE 224 816 128 816
WIRE 320 816 320 736
WIRE 320 816 224 816
WIRE -160 848 -160 816
WIRE 224 848 224 816
WIRE -608 944 -608 832
WIRE -160 944 -160 928
WIRE 224 944 224 928
WIRE 448 944 448 832
FLAG 256 -688 0
FLAG 592 -688 0
FLAG 512 -688 0
FLAG -32 192 pwm_high_1
IOPIN -32 192 Out
FLAG -32 224 pwm_low_1
IOPIN -32 224 Out
FLAG -224 288 0
FLAG -224 448 0
FLAG -32 352 pwm_high_2
IOPIN -32 352 Out
FLAG -32 384 pwm_low_2
IOPIN -32 384 Out
FLAG 832 -576 modified-photon
IOPIN 832 -576 Out
FLAG 880 208 square-pulse
IOPIN 880 208 Out
FLAG 832 -832 photon
IOPIN 832 -832 Out
FLAG 688 -688 0
FLAG -608 -688 0
FLAG -272 -688 0
FLAG -128 -688 0
FLAG -32 -832 superconducting
IOPIN -32 -832 Out
FLAG -608 -432 0
FLAG -272 -432 0
FLAG -128 -432 0
FLAG -32 -576 normal
IOPIN -32 -576 Out
FLAG -608 16 0
FLAG -32 -128 result-pulse
IOPIN -32 -128 Out
FLAG 256 -432 0
FLAG 496 -432 0
FLAG 256 -208 0
FLAG 832 -352 modified-normal
IOPIN 832 -352 Out
FLAG -608 -208 0
FLAG -176 -208 0
FLAG -32 -352 detected-current
IOPIN -32 -352 Out
FLAG -608 352 0
FLAG 304 352 0
FLAG 880 544 voltage-level-1
IOPIN 880 544 Out
FLAG 448 944 0
FLAG 880 640 voltage-level
IOPIN 880 640 Out
FLAG 224 944 0
FLAG -160 944 0
FLAG -608 944 0
FLAG 880 592 voltage-level-2
IOPIN 880 592 Out
SYMBOL voltage 256 -816 R0
SYMATTR InstName V3
SYMATTR Value 1.5
SYMBOL res 672 -816 R0
SYMATTR InstName Rl_3
SYMATTR Value 50
SYMBOL res 432 -848 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rbias_3
SYMATTR Value 100k
SYMBOL current 480 -720 R180
WINDOW 3 24 -28 Invisible 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value PWL file=D:\GitHub\snspd-communication\outputPy\snspd_data.txt
SYMATTR InstName I1
SYMBOL snspdWithPhotonPort 592 -752 R0
SYMATTR InstName U1
SYMATTR Value Lind=100n
SYMATTR SpiceModel nanowireBCF
SYMBOL bv -608 224 R0
SYMATTR InstName BV4
SYMATTR Value V=V(result-pulse)
SYMBOL Digital\\schmitt -176 144 R0
WINDOW 3 -1 115 Left 2
SYMATTR Value vt={pvt} vh=0 vhigh=3 vlow=0
SYMATTR InstName A1
SYMBOL Digital\\schmitt -176 304 R0
WINDOW 3 -1 115 Left 2
SYMATTR Value vt={nvt} vh=0 vhigh=0 vlow=-3
SYMATTR InstName A2
SYMBOL res 432 -592 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 1
SYMBOL cap 480 -544 R0
SYMATTR InstName C1
SYMATTR Value 1n
SYMBOL bv 304 224 R0
SYMATTR InstName BV5
SYMATTR Value V=V(pwm_high_1)+V(pwm_high_2)
SYMBOL bv 256 -336 R0
SYMATTR InstName BV1
SYMATTR Value V=V(normal)*(1 + 1000*V(modified-photon))
SYMBOL bv 256 -560 R0
SYMATTR InstName BV2
SYMATTR Value V=V(photon)
SYMBOL voltage -608 -816 R0
SYMATTR InstName V1
SYMATTR Value SINE(0 1.5 50MEG 0 0 0)
SYMBOL res -384 -848 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rbias_1
SYMATTR Value 100k
SYMBOL res -288 -816 R0
SYMATTR InstName Rsc
SYMATTR Value 1f
SYMBOL res -144 -816 R0
SYMATTR InstName Rl_1
SYMATTR Value 50
SYMBOL voltage -608 -560 R0
SYMATTR InstName V2
SYMATTR Value SINE(0 1.5 50MEG 0 0 0)
SYMBOL res -384 -592 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rbias_2
SYMATTR Value 100k
SYMBOL res -288 -560 R0
SYMATTR InstName Rn
SYMATTR Value 100
SYMBOL res -144 -560 R0
SYMATTR InstName Rl_2
SYMATTR Value 50
SYMBOL bv -608 -112 R0
WINDOW 3 31 103 Left 2
SYMATTR Value V=IF(ABS(I(Bi))>{Ic}, V(modified-normal), V(superconducting))
SYMATTR InstName BV3
SYMBOL bi2 -608 -320 R0
SYMATTR InstName Bi
SYMATTR Value I=I(Rl_2)*(1 + 100000*I(Rl_3))
SYMBOL res -192 -336 R0
WINDOW 3 36 68 Left 2
SYMATTR Value 1
SYMATTR InstName R2
SYMBOL schottky -240 736 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value 1N5817
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky -192 608 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value 1N5817
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL bv -608 736 R0
SYMATTR InstName BV6
SYMATTR Value V=V(square-pulse)
SYMBOL cap -48 672 M0
SYMATTR InstName C3
SYMATTR Value 1µ
SYMBOL cap 304 736 M180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C4
SYMATTR Value 1µ
SYMBOL schottky 256 528 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D4
SYMATTR Value 1N5817
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 112 672 R0
SYMATTR InstName D3
SYMATTR Value 1N5817
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL bv 448 736 R0
SYMATTR InstName BV7
SYMATTR Value V={vi}+V(voltage-level-1)+V(voltage-level-2)
SYMBOL cap -400 528 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 10
SYMBOL voltage -160 832 R0
SYMATTR InstName V4
SYMATTR Value 0
SYMBOL voltage 224 832 R0
SYMATTR InstName V5
SYMATTR Value 0
TEXT -656 -936 Left 2 !.tran 0 500n 0 1p
TEXT 552 -296 Left 2 ;modified normal resistance voltage pulse
TEXT 568 -520 Left 2 ;modified photon detection voltage pulse
TEXT -584 -200 Left 2 ;when the photon detected, \nthe current (+10uA) will exceed the Ic
TEXT -88 -424 Left 2 ;Ihs = 5uA (fixed)
TEXT -416 -936 Left 2 !.param Ic=10.05u pvt=0.5m nvt=-0.5m vi=1.5
RECTANGLE Normal 1152 96 -672 -896
RECTANGLE Normal 1152 992 -672 128
